# ูุธุงู ุงูุชูุนูู ูุงูุงุดุชุฑุงู ุงูุดุงูู - SR3H Video Converter
# Activation and Subscription System Documentation

## ๐ ูุธุฑุฉ ุนุงูุฉ | Overview
ููุซูู ูุฐุง ุงูููู ุงูุทุฑููุฉ ุงููุนููุฉ ุงูุชู ููููุฐ ุจูุง ุงูุชุทุจูู ูุธุงู ุงูุชูุนููุ ุงุนุชูุงุฏุงู ุนูู ุงูุดูุฑุฉ ุงูููุฌูุฏุฉ ุฏุงุฎู `Source_Code/sr3h_activation_system.py` ูุงููููุงุช ุงูุฏุงุนูุฉ ููุง. ุงููุฏู ูู ููู ููุณ ุงูุณููู ุฅูู ุฃู ุชุทุจูู ุขุฎุฑ ุฏูู ุงูุฑุฌูุน ููููุฏ ุงูุฃุตูู.
This document mirrors the exact activation mechanics already implemented in the project so the same behavior can be replicated elsewhere.

---

## 1. ุงูุจููุฉ ุงููุนูุงุฑูุฉ | System Architecture
### 1.1 ุงูููููุงุช ุงูุฑุฆูุณูุฉ | Main Components
- **Supabase PostgreSQL**: ุฌุฏุงูู `sr3h_pc_subscriptions`, `subscription_codes`, `verification_codes` ุชุฏูุฑ ุงูุจูุงูุงุช ูุงููููุฏ.
- **Zoho Mail (SMTP smtp.zoho.sa:587)**: ุฅุฑุณุงู ุฑุณุงุฆู OTP HTML ูุชุนุฏุฏุฉ ุงููุบุงุช ูุน ุชุดููุฑ TLS.
- **`secure_credentials_manager.py`**: ูุฎุฒูู ููุงุชูุญ Supabase ูุงุนุชูุงุฏุงุช Zoho ุฏุงุฎู `.creds.bin` ุจุงุณุชุฎุฏุงู PBKDF2 (480k iterations) ูFernet.
- **`SR3HActivationSystem`**: ุงูุทุจูุฉ ุงููุฑูุฒูุฉ ุงูุชู ุชุฏูุฑ ุงูุชุดููุฑ ุงููุญููุ ุชูููุฏ ูุนุฑู ุงูุฌูุงุฒุ ุงูุชูุงุนู ูุน Supabaseุ ุฅุฑุณุงู OTPุ ุญูุธ ุงูุญุงูุฉ.
- **ูุงุฌูุงุช PyQt5 (`email_activation_dialog_fixed.py`, `email_activation_manager_fixed.py`)**: ุชุฑุจุท ุงููุณุชุฎุฏู ุจุงูุชุฏููุงุช ุงูุซูุงุซุฉ (ุชุฌุฑุจุฉุ ููุฏุ ููู ุฌูุงุฒ).

### 1.2 ุชุฏููุงุช ุงูุงุณุชุฎุฏุงู | User Journeys
1. **ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ**: ุฅูุดุงุก ุณุฌู ุชุฌุฑูุจู ูุฑุชุจุท ุจูุนุฑูู ุงูุฌูุงุฒ + ุงูุจุฑูุฏุ ุฅุฑุณุงู OTPุ ุชูุนูู ูุตูุฑ.
2. **ุชูุนูู ุงูููุฏ**: ุงูุชุญูู ูู ุงูููุฏ ุนุจุฑ `subscription_codes`, ุฅุฑุณุงู OTPุ ุชูุซูู ุงูุจุฑูุฏุ ุญูุธ ุงูุจูุงูุงุช ูุญููุงู ููุฒุงููุชูุง.
3. **ููู ุงูุฌูุงุฒ / ุฅุนุงุฏุฉ ุงูุฑุจุท**: ูุฑุงูุจุฉ ูููุฏ ุงููููุ ุฅุนุงุฏุฉ ุฅุฑุณุงู OTP ููุจุฑูุฏ ุงูุฃุตููุ ุชุญุฏูุซ ุงูุฃุฌูุฒุฉ ูุน ุนุฏูุงุฏ ุงูููู.
4. **ุงูุชุญูู ุนูุฏ ุงูุชุดุบูู**: ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ุงููุดูุฑุฉ ุซู ูุฒุงููุชูุง ูุน Supabase ุนูุฏ ุชููุฑ ุงูุงุชุตุงู.

---

## 2. ูููุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Schema
ูุฌุจ ุฃู ุชุทุงุจู ุงูุจููุฉ ูุง ูุทูุจู ุงูููุฏ. ุงูููู `Source_Code/create_database.sql` ูุนุฑูู `sr3h_pc_subscriptions` ุจูููุง ุฏูุงู `SR3HActivationSystem.get_database_schema()` ุชุถูู ุงูุญููู ุงููุณุชุฎุฏูุฉ ูุนููุงู (`subscription_code`). ุงุญุฑุต ุนูู ุชูุญูุฏ ุงูุชุณููุฉ ุนูุฏ ุฅุนุงุฏุฉ ุงูุจูุงุก.

### 2.1 ุฌุฏูู ุงูุงุดุชุฑุงูุงุช `sr3h_pc_subscriptions`
| ุงูุญูู | ุงููุตู |
|-------|-------|
| `id` | UUID Primary Key (ูููููุฏ ุชููุงุฆูุงู)
| `email` | ุจุฑูุฏ ุงููุณุชุฎุฏู (ูุทููุจ)
| `hardware_id` | ูุนุฑูู ุงูุฌูุงุฒ (SHA-256)
| `subscription_code` | ููุฏ ุงูุชูุนูู ุงููุฑุชุจุท (ูุฏ ูุธูุฑ ุจุงุณู `activation_code` ูู SQL ุงููุฏูู)
| `order_number` | ุฑูู ุงูุทูุจ (ูุฌุจ ุฃู ูููู ุฃุฑูุงูุงู ููุท)
| `subscription_type` | `trial`, `week`, `month`, `year`, `lifetime`
| `activation_date` | ุชุงุฑูุฎ ุจุฏุงูุฉ ุงูุงุดุชุฑุงู
| `expiry_date` | ุชุงุฑูุฎ ุงูุงูุชูุงุก
| `is_active` | ุญุงูุฉ ุงูุชูุนูู ุงููุนููุฉ
| `email_verified` | ูู ุชู ุชุซุจูุช ุงูุจุฑูุฏ ุนุจุฑ OTP
| `otp_code` | ุฑูุฒ OTP ุงูุญุงูู (6 ุฃุฑูุงู)
| `otp_expiry` | ููุช ุงูุชูุงุก ุตูุงุญูุฉ OTP (UTC)
| `device_transfer_count` | ุนุฏุฏ ุนูููุงุช ุงูููู ุฎูุงู ุขุฎุฑ 30 ูููุงู
| `last_device_transfer_date` | ุขุฎุฑ ููุช ูููู ุงูุฌูุงุฒ
| `last_check_date` | ุขุฎุฑ ูุฒุงููุฉ ูุน ุงูุฎุงุฏู
| `created_at`, `updated_at` | ุทูุงุจุน ุงูุชุชุจุน

### 2.2 ุฌุฏูู ุงูุฃููุงุฏ `subscription_codes`
| ุงูุญูู | ุงููุตู |
|-------|-------|
| `id` | UUID Primary Key
| `code` | ุงูููุฏ ุงููุฑูุฏ (20 ุญุฑูุงู/ุฑููุงู)
| `subscription_type` | week/month/year/lifetime
| `order_number` | ุฑูู ุงูุทูุจ ุงูููุชุฑู (ุงุฎุชูุงุฑู)
| `status` | `unused`, `used`, `expired`
| `email` | ุงูุจุฑูุฏ ุงูุฐู ุงุณุชุฎุฏู ุงูููุฏ
| `hardware_id` | ุงูุฌูุงุฒ ุงููุฑุชุจุท
| `rebind_attempts` | ุงููุญุงููุงุช ุงููููุฉ ูุฅุนุงุฏุฉ ุงูุฑุจุท
| `rebind_attempts_30days` | ุนุฏุฏ ุงููุญุงููุงุช ุฎูุงู 30 ูููุงู (ููุณููู/ูุฏู ุงูุญูุงุฉ)
| `last_rebind_date` | ุขุฎุฑ ููุช ูุฅุนุงุฏุฉ ุงูุฑุจุท
| `activated_at` | ููุช ุฃูู ุชูุนูู
| `created_at`, `updated_at` | ุงูุชุชุจุน ุงูุฒููู

### 2.3 ุฌุฏูู ุฑููุฒ ุงูุชุญูู `verification_codes`
ูุณุชุฎุฏู ูู ุจุนุถ ููุงู ุงูุฅุฏุงุฑุฉ (`create_verification_code`). ุงูุญููู ุงููุทููุจุฉ:
- `email`, `code`, `order_id` (ุงุฎุชูุงุฑู)
- `created_at`, `expires_at` (UTC)
- `is_used` (BOOLEAN)

### 2.4 ููุงุชูุญ ูููุงุฑุณ | Indexes
- ููุงุฑุณ ุนูู `email`, `hardware_id`, `subscription_code`, `expiry_date` ูู ุฌุฏูู ุงูุงุดุชุฑุงูุงุช.
- ููุฑุณ ูุฑูุฏ ูู `subscription_codes.code`ุ ูุน ููุงุฑุณ ุฅุถุงููุฉ ุนูู `status` ู`email`.
- Trigger `update_sr3h_pc_subscriptions_updated_at` ูุชุญุฏูุซ `updated_at` ูุจู ูู ุชุนุฏูู.

---

## 3. ูุนุฑู ุงูุฌูุงุฒ | Hardware ID Generation
- **Windows**: ูุฑุงุกุฉ `wmic csproduct get uuid` ุซู ุชุทุจูู `hashlib.sha256`.
- **macOS**: ูุฑุงุกุฉ `IOPlatformUUID` ุนุจุฑ `ioreg`.
- **Linux**: ูุฑุงุกุฉ `/etc/machine-id`ุ ุฃู ุงูุฑุฌูุน ุฅูู ุนููุงู MAC ุนูุฏ ุงููุดู.
- ุงููููุฉ ุงูููุงุฆูุฉ ุชูุญูููู ุฅูู ุชูุซูู HEX ุจุทูู 64 ูุชุณุชุฎุฏู ููุตุฏุฑ ููููุญ ูุงูููุงุชูุญ.

---

## 4. ุงูุชุดููุฑ ูุชุฎุฒูู ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ | Encryption & Secrets
### 4.1 ููู ุงูุชูุนูู ุงููุญูู | Local Activation File
- ุงููุณุงุฑ: `%APPDATA%/SR3H_PC/activation.dat` ุนูุฏ ุงูุชุดุบูู ูุชูููุฐูุ ุฃู `Source_Code/.sr3h_data/activation.dat` ุฃุซูุงุก ุงูุชุทููุฑ.
- ุงูููุชุงุญ ูุญููุธ ูู `.key` ุฏุงุฎู ููุณ ุงููุฌูุฏุ ููููุดุฃ ุนุจุฑ `PBKDF2HMAC(SHA256, iterations=100000, salt=hardware_id[:16])` ุซู ููุฑุฑ ุฅูู `Fernet`.
- `save_local_data` ูุฎุฒูู JSON ูุถู `email`, `hardware_id`, `subscription_code`, `subscription_type`, `activation_date`, `expiry_date`, `is_active`, `email_verified`, `last_check_date`.

### 4.2 ุฅุฏุงุฑุฉ ุงูุงุนุชูุงุฏุงุช | Credentials Manager
- ุงูููู `.creds.bin` ููุดููุฑ ุนุจุฑ ููุชุงุญ ูุดุชู ูู ูุนุฑู ุงูุฌูุงุฒ ูุจููุญ ุซุงุจุช `SR3H_2024_SECURE` ูุน 480,000 ุฏูุฑุฉ.
- ูุชู ุญูุธ ููู `supabase_url`, `supabase_key`, `zoho_email`, `zoho_app_name`, `zoho_app_password` ุจุนุฏ ุชุดููุดูุง ุจู Base85.

---

## 5. ุชุฏููุงุช ุงูุชูุนูู | Activation Flows
### 5.1 ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ | Trial Flow (`start_trial`)
1. ุงูุชุญูู ูู ุงูุจุฑูุฏ (ูุง ูุณูุญ ุจุงูุฑูุฒ `+` ููุฌุจ ุฃู ููุชูู ูุฃุญุฏ ุงููุทุงูุงุช ุงููุนุชูุฏุฉ).
2. ุงูุชุฃูุฏ ูู ุนุฏู ุงุณุชุฎุฏุงู ุชุฌุฑุจุฉ ูุซุจุชุฉ ุนูู ููุณ ุงูุฌูุงุฒ (`has_trial_on_device`) ููุง ููุณ ูุทุงู ุงูุจุฑูุฏ (`get_trial_domain_on_device`).
3. ุฅูุดุงุก ุฃู ุชุญุฏูุซ ุณุฌู `trial` ูุน ูุฏุฉ 3 ุฃูุงูุ ุซู ุชูููุฏ OTP ุตุงูุญ 10 ุฏูุงุฆู ูุฅุฑุณุงูู.
4. ุจุนุฏ ุฅุฏุฎุงู OTP ุนุจุฑ `verify_otp` ููุถุจุท `email_verified=True` ู`is_active=True`.

### 5.2 ุชูุนูู ููุฏ ุงุดุชุฑุงู | Code Activation (`activate_with_code`)
1. ุงูุชุญูู ูู ุงูุจุฑูุฏุ ุงูุงุชุตุงูุ ูุตุญุฉ ุฑูู ุงูุทูุจ (ุฃุฑูุงู ููุท).
2. ุงุณุชุฏุนุงุก `validate_subscription_code` ููุชุญูู ูู ุงูุญุงูุฉ (`unused`ุ `used`ุ `expired`). ูุฏ ูุนูุฏ `"rebind"` ูุฅุฌุจุงุฑ ุงูุชุญูู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฃุตูู.
3. ุญุณุงุจ ูุฏุฉ ุงูุงุดุชุฑุงู: ุฃุณุจูุน (7 ุฃูุงู)ุ ุดูุฑ (30)ุ ุณูุฉ (365)ุ ูุฏู ุงูุญูุงุฉ (36500).
4. ุชุฎุฒูู ุงูุณุฌู ูู `sr3h_pc_subscriptions` ูุน `is_active=False` ุฅูู ุฃู ูุชู ุฅุฏุฎุงู OTP ุงููุฑุณู ููุจุฑูุฏ.
5. ุจุนุฏ ูุฌุงุญ `verify_otp` ุชูุญุฏูุซ ุงูุญููู ูุชูุญูุธ ุงูุจูุงูุงุช ูุญููุงู.

### 5.3 ุงุณุชุจุฏุงู ุงุดุชุฑุงู ูุดุท | Active Replacement
ุนูุฏ ุฅุฏุฎุงู ููุฏ ุฌุฏูุฏ ุจูููุง ููุฌุฏ ุงุดุชุฑุงู ูุนูุงู ุนูู ููุณ ุงูุฌูุงุฒุ ุชูุฑุฌุน ุงูุฏุงูุฉ ุงููููุฉ ุงูุฎุงุตุฉ "replace" ูููุฑุฑ ุงููุณุชุฎุฏู ุงุณุชุจุฏุงู ุงูุงุดุชุฑุงู ูุจู ุงููุชุงุจุนุฉ.

### 5.4 ุฅุนุงุฏุฉ ุฑุจุท ููุฏ ุจุฌูุงุฒ ุฌุฏูุฏ | Rebind (`rebind_subscription_code`)
1. ููุณูุญ ููุท ุฅุฐุง ูุงู ุงูููุฏ ูู ุญุงูุฉ `used` ููุฑุชุจุท ุจุงูุจุฑูุฏ ุงูุฃุตูู.
2. ูุชู ุงุญุชุณุงุจ ุญุฏ ุฅุนุงุฏุฉ ุงูุฑุจุท ุจูุงุณุทุฉ `get_rebind_limit`: ุฃุณุจูุน (1)ุ ุดูุฑ/ุณูุฉ/ูุฏู ุงูุญูุงุฉ (3) ูุน ุชุชุจุน 3 ูุญุงููุงุช ููู 30 ููู ููุฎุทุท ุงูุทูููุฉ.
3. ุนูุฏ ุงูุณูุงุญุ ูููุดุฃ ุงุดุชุฑุงู ุฌุฏูุฏ ุจุงูุฌูุงุฒ ุงูุฌุฏูุฏ ููุฒุฏุงุฏ `device_transfer_count`ุ ููุชู ุชุญุฏูุซ ููู ูู ุงูุฌุฏูููู ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจูุงูุงุช ุงููุญููุฉ.

### 5.5 ููู ุงูุงุดุชุฑุงู ูุฌูุงุฒ ุฌุฏูุฏ | Device Transfer (`transfer_device`)
1. ูุชุญูู ูู ุตูุงุญูุฉ ุงูุจุฑูุฏ ููุดุงุท ุงูุงุดุชุฑุงู ุงูุณุงุจู.
2. ูููุน ุงูููู ุฅุฐุง ูุงู ุงูุงุดุชุฑุงู ููุชููุงู ุฃู ูุนูู ุจุงููุนู ุนูู ุงูุฌูุงุฒ ุงูุญุงูู.
3. ูุณูุญ ุจุนูููุชู ููู ููุท ุฎูุงู ูุชุฑุฉ 30 ูููุงู (ููุนุงุฏ ุงูุนุฏ ุฅูู ุตูุฑ ุจุนุฏ ูุฑูุฑ 30 ูููุงู ุนูู ุขุฎุฑ ููู).
4. ูุฑุณู OTP ุฌุฏูุฏ ููุญุฏูุซ ุงูุณุฌู ุฅูู ุฃู ูุซุจุช ุงููุณุชุฎุฏู ููููุชู.

### 5.6 ุงูุชุญูู ุนูุฏ ุงูุชุดุบูู | Boot-Time Verification (`check_activation_status`)
- ูู ุญุงูุฉ ุนุฏู ุชููุฑ ุงูุฅูุชุฑูุช: ูุนุชูุฏ ุงูุชุทุจูู ุนูู `activation.dat` ููุณุชูุฑ ููุท ุฅุฐุง ูู ุชุชุฌุงูุฒ ููุงูุฉ ุงูุงุดุชุฑุงู.
- ูู ุญุงูุฉ ุงูุงุชุตุงู: ูุนูุฏ ุงูุชุญูู ูู Supabaseุ ูุญุฏูุซ `last_check_date`, `is_active`, `email_verified`, ููุนูุฏ ูุชุงุจุฉ ุงูููู ุงููุญูู ุจุงููุนูููุงุช ุงูุฃุญุฏุซ.

---

## 6. ูุธุงู OTP ูุงูุจุฑูุฏ | OTP & Email System
- ุชูููุฏ ุงูุฑูุฒ: `generate_otp()` ูุนูุฏ 6 ุฃุฑูุงู ุฑูููุฉ.
- ุงูุตูุงุญูุฉ: 10 ุฏูุงุฆู (UTC) ูุฎุฒูุฉ ูู `otp_expiry`.
- ุงูููุงุฉ: Zoho SMTP ูุน `starttls()`. ุฌููุน ุงูุฑุณุงุฆู HTML ุซูุงุฆูุฉ ุงููุบุฉ ููุณุงุฑุงุช ุงูุงุดุชุฑุงู ูุถูููุฉ.
- ุญุงูุงุช ุงูุงุณุชุฎุฏุงู: ุงูุชุฌุฑุจุฉุ ุชูุนูู ุงูุฃููุงุฏุ ููู ุงูุฃุฌูุฒุฉุ ุฅุนุงุฏุฉ ุงูุฑุจุทุ ูุฅุนุงุฏุฉ ุฅุฑุณุงู OTP ูููุณุชุฎุฏู ุงููุณุฌูู.

---

## 7. ุงูุจูุงูุงุช ุงููุญููุฉ ูุงููุถุน ุจุฏูู ุงุชุตุงู | Local Data & Offline Mode
- ุงูููู ุงููุญูู ูุดููุฑ ุจุงููุงูู ุจุงุณุชุฎุฏุงู `Fernet` ููุง ููุณุชุฎุฏู ุฅูุง ุจุนุฏ ูู ุงูุชุดููุฑ ุจูุฌุงุญ.
- ูู ูุถุน ุนุฏู ุงูุงุชุตุงูุ ููุณูุญ ุจุงูุนูู ุทุงููุง ุฃู `expiry_date` ุงูููุฌูุฏุฉ ูู ุงูููู ูู ุชูุชูู ุจุนุฏุ ูุง ููุฌุฏ ุญุฏ ุซุงุจุช ููุฃูุงู ุฎุงุฑุฌ ุตูุงุญูุฉ ุงูุงุดุชุฑุงู.
- ูุชู ุญุฐู ุงูููู ุนุจุฑ `delete_local_data_by_hardware` ุนูุฏ ุงูุญุงุฌุฉ ูุฅุนุงุฏุฉ ุถุจุท ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ.

---

## 8. ุญุงูุงุช ุงูุงุดุชุฑุงู ุงููุงูุนูุฉ | Runtime States
- **ุบูุฑ ููุนูู / Not Activated**: ูุง ุชูุฌุฏ ุจูุงูุงุช ูุญููุฉ ุฃู `email_verified=False`.
- **ูุดุท / Active**: `is_active=True` ู`email_verified=True`ุ ูุน ุชุญุฏูุซ ุฏูุฑู ูู ุงูุฎุงุฏู.
- **ููุชูู / Expired**: ุชุงุฑูุฎ ุงูุงูุชูุงุก ูู Supabase ุฃู ุงูููู ุงููุญูู ุชู ุชุฌุงูุฒูุ ูุชู ุฅูุบุงุก ุชูุนูู ุงูุณุฌู ุชููุงุฆูุงู.
- **ูุฑุจูุท ุจุฌูุงุฒ ุขุฎุฑ / Bound to Different Device**: ูุงุชุฌ `verify_hardware_and_route` ูุนูุฏ "DIFFERENT_DEVICE_ACTIVE" ููุนุฑุถ ุงูู `hardware_id` ุงูุขุฎุฑ.
- **ุจุงูุชุธุงุฑ ุงูุชุญูู / Awaiting Verification**: OTP ููุฑุณู ููู ูู ูุชู ุชุซุจูุชู.
- **ูุฑููุถ ูุทุงู ุงูุจุฑูุฏ / Unsupported Domain**: ุงูุจุฑูุฏ ุฎุงุฑุฌ ุงููุงุฆูุฉ ุงูุจูุถุงุก ุฃู ูุญุชูู ุนูู `+`.

---

## 9. ูููุฏ ุงูุฃูุงู ูุงูุชูุซูู | Security Constraints
- **ุงููุทุงูุงุช ุงููุณููุญุฉ**: `gmail.com`, `outlook.com`, `hotmail.com`, `live.com`, `yahoo.com`, `icloud.com`, `me.com`, `mac.com`, `protonmail.com`, `zoho.com`, `zoho.sa`.
- **ุญุธุฑ ุงูุฑูุฒ "+"**: ูุชู ุฑูุถ ุฃู ุจุฑูุฏ ูุญุชูู ุนูู ูุญุงุฑู ุฅุถุงูุฉ.
- **ูุทุงุจูุฉ ุงูุฌูุงุฒ**: ูู ุชูุนูู ููุฎุฒููู ูุน `hardware_id`; ุฃู ุงุฎุชูุงู ูููุน ุงูุงุณุชุฎุฏุงู ุฅูุง ุจุนุฏ ููู ุฑุณูู.
- **OTP**: ุฑูุฒ ูุงุญุฏ ุตุงูุญ 10 ุฏูุงุฆู ููู ุทูุจุ ูููุฒุงู ุจุนุฏ ุงูุชูุนูู.
- **ุนูููุงุช ุงูููู**: ุญุฏูุงู ุฃุณุงุณูุงู (ูุฑูุชุงู ููู 30 ูููุงู) ุจุงูุฅุถุงูุฉ ุฅูู ุนุฏุงุฏุงุช ุฅุนุงุฏุฉ ุงูุฑุจุท ุงูุฎุงุตุฉ ุจุงูุฎุทุท ุงูุทูููุฉ.
- **ุงูุฃูุงูุฑ**: `order_number` ูุฌุจ ุฃู ูููู ุฑูููุงู ุจุงููุงูู ูุจู ูุจูู ุงูููุฏ.
- **ุงูุชุญูู ูู ุงูุฅูุชุฑูุช**: ุฌููุน ุงูุชุฏููุงุช (ูุง ุนุฏุง ุงูุชุดุบูู ุฏูู ุงุชุตุงู) ุชุณุชุฏุนู `check_internet_connection()` ูุจู ุงููุตูู ููุฎุงุฏู.

---

## 10. ุฎุทูุงุช ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู | Implementation Checklist
1. ุชุฌููุฒ ุฌุฏุงูู Supabase ููู ุงูุญููู ุฃุนูุงู (ูุน ุชูุญูุฏ ุงุณู `subscription_code`).
2. ุถุจุท ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุฏุงุฎู ููู ุขูู ูุดุงุจู ูู `.creds.bin` ุฃู ูุชุบูุฑุงุช ุจูุฆูุฉ.
3. ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุฏูุงู `SR3HActivationSystem` ููุง ูู ุฃู ููููุง ูุน ููุณ ุงูุชุจุนูุงุช (requests, supabase, cryptography, PyQt5).
4. ุชูููุฑ ุฎุฏูุฉ SMTP ูุงุฏุฑุฉ ุนูู ุฅุฑุณุงู HTML (ุฃู ุชุนุฏูู `send_otp_email`).
5. ุถูุงู ุฏูุฌ ุงููุงุฌูุงุช (ุชุฌุฑุจุฉุ ุชูุนูู ููุฏุ ููู) ูุน ุงูุงุณุชุฏุนุงุกุงุช: `start_trial`, `activate_with_code`, `verify_otp`, `transfer_device`, `rebind_subscription_code`.
6. ุงุฎุชุจุงุฑ ูุณุงุฑุงุช ุงูุงุชุตุงู ุงูุถุนูู ููุชุฃูุฏ ูู ุฃู `check_activation_status` ู`save_local_data` ูุนููุงู ุนูู ุงููุธุงู ุงููุณุชูุฏู.

---

## 11. ุงููููุงุช ุฐุงุช ุงูุตูุฉ | Key Files
- `Source_Code/sr3h_activation_system.py`: ุฌููุน ุงูุฏูุงู ุงููุฐููุฑุฉ ุฃุนูุงู.
- `Source_Code/email_activation_manager_fixed.py`: ููุทู ุฅุฏุงุฑุฉ ุงููุงุฌูุฉ ูุงุณุชุฏุนุงุก ุงููุธุงู.
- `Source_Code/email_activation_dialog_fixed.py`: ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ุงููุงููุฉ ููุธุงู ุงูุชูุนูู.
- `Source_Code/secure_credentials_manager.py`: ุชุฎุฒูู ููุงุชูุญ Supabase/Zoho ุจุฃูุงู.
- `Source_Code/create_database.sql`, `Source_Code/add_activation_codes.sql`: ุชููุฆุฉ ุงูุฌุฏุงูู ูุฅุถุงูุฉ ุงูุฃููุงุฏ ุบูุฑ ุงููุณุชุฎุฏูุฉ.

> ุจุงุชุจุงุน ูุฐุง ุงููุณุชูุฏ ููููู ุฅุฑุณุงู ุงูุชูุงุตูู ูุฃู ูุทููุฑ ููุนูุฏ ุจูุงุก ููุณ ุงููุธุงู ุจุฏููุฉ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุงุทูุงุน ุนูู ุงููุดุฑูุน ุงูุญุงูู.
